<link rel="import" href="../../../redux-behavior.html">
<link rel="import" href="./../../../../bower_components/polymer/polymer.html">
<link rel="import" href="./../../../layout/shared-styles.html">
<link rel="import" href="./../../../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="./../../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="./../../../../bower_components/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="./../../../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="./../../components/page-panel.html">

<dom-module id="money-manage">
    <template>
        <style include="shared-styles"></style>
        <div class="contianer">
            <page-panel>
                <div class="row around-xs">
                    <div class="col-xs-4">
                        <div class="box">
                            <vaadin-combo-box class="saveData" label="เลือกธนาคาร" items="{{listBank}}" value="{{datas.bank_id}}" item-label-path="bank_name_th"
                                item-value-path="id"></vaadin-combo-box>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="box">
                            <paper-input label="สาขา" value="{{datas.bank_branch}}"></paper-input>
                        </div>
                    </div>
                </div>

                <div class="row around-xs">
                    <div class="col-xs-4">
                        <div class="box">
                            <vaadin-date-picker label="วันที่เช็ค" value="{{datas.check_date}}"></vaadin-date-picker>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="box">
                            <paper-input label="เลขที่เช็ค" value="{{datas.check_number}}"></paper-input>
                        </div>
                    </div>
                </div>

                <div class="row center-xs">
                    <div class="col-xs-8">
                        <div class="box">
                            <paper-textarea rows="2" label="หมายเหตุ" value="{{datas.note}}"></paper-textarea>
                        </div>
                    </div>
                </div>

            </page-panel>

            <div class="row end-xs">
                <div class="col-xs-6">
                    <div class="box">
                        <paper-button class="gl-btn-success" on-tap="saveData" raised>บันทึก</paper-button>
                    </div>
                </div>
            </div>
            
        </div>
    </template>
    <script>
        Polymer({
            is: 'money-manage',
            behaviors: [ReduxBehavior],
            properties: {
                listBank: {
                    statePath: 'commonData.bank'
                },
                datas:{
                    statePath: 'fee.receipt'
                },
                select:{
                    type:Object,
                    value:{}
                }
            },
            saveData:function(){
                var newData = {
                    id : this.datas.id,
                    bank_id:this.datas.bank_id,
                    bank_branch:this.datas.bank_branch,
                    check_date:this.datas.check_date,
                    check_number:this.datas.check_number,
                    note:this.datas.note
                }
                this.dispatchAction('FEE_UPDATE_RECEIPT',newData,this.select)
                // console.log(newData);
            }
        });
    </script>
</dom-module>