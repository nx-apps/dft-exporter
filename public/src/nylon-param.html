<link rel="import" href="../bower_components/polymer/polymer.html">
<dom-module id="nylon-param">
  <script>
    Polymer({
      is:'nylon-param',
      properties:{
        pattern:{
          type:String
        },
        params:{
          type:Object,
          notify:true
        },
        route:Object
      },
      observers:[
        '_getParam(route)'
      ],
      _getParam:function(){
        var path = this.route.path;
        var params = path.split("/");
        var pattern = this.pattern;

        if(pattern){
          var getVar = pattern.split("/:");
          getVar = getVar.slice(1,getVar.length);
        }

        var getPrarams = {
          page:this.route.prefix
        };

        if(getVar){
          getVar.map(function(obj,index){
              if(params[index+1]){
                getPrarams[obj] = params[index+1];
              }
          });
        }
        this.params = getPrarams;
      }
    });
  </script>
</dom-module>